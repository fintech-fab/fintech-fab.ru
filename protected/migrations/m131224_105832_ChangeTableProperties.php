<?php
class m131224_105832_ChangeTableProperties extends CDbMigration
{
	public function up()
	{
		$this->execute("ALTER TABLE `tbl_client` CHANGE `client_id` `client_id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT, CHANGE `ip` `ip` VARCHAR(15) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'IP клиента', CHANGE `entry_point` `entry_point` TINYINT(1) UNSIGNED NOT NULL COMMENT 'Точка входа', CHANGE `tracking_id` `tracking_id` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Трекинг', CHANGE `phone` `phone` CHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Телефон', CHANGE `password` `password` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Пароль', CHANGE `job_phone` `job_phone` CHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Рабочий телефон', CHANGE `first_name` `first_name` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT 'Имя', CHANGE `last_name` `last_name` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT 'Фамилия', CHANGE `third_name` `third_name` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT 'Отчество', CHANGE `sex` `sex` TINYINT(1) UNSIGNED NOT NULL COMMENT 'Пол', CHANGE `birthday` `birthday` DATE NOT NULL DEFAULT '0000-00-00' COMMENT 'День рождения', CHANGE `email` `email` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT 'Email', CHANGE `passport_series` `passport_series` CHAR(4) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT 'Серия паспорта', CHANGE `passport_number` `passport_number` CHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT 'Номер паспорта', CHANGE `passport_issued` `passport_issued` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Кем выдан паспорт', CHANGE `passport_code` `passport_code` CHAR(7) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Код подразделения', CHANGE `passport_date` `passport_date` DATE NOT NULL COMMENT 'Дата выдачи паспорта', CHANGE `document` `document` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Второй документ', CHANGE `document_number` `document_number` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Номер второго документа', CHANGE `address_reg_region` `address_reg_region` TINYINT(3) UNSIGNED NOT NULL COMMENT 'Регион', CHANGE `address_reg_city` `address_reg_city` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Населенный пункт', CHANGE `address_reg_address` `address_reg_address` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Адрес', CHANGE `address_res_region` `address_res_region` TINYINT(3) UNSIGNED NOT NULL COMMENT 'Регион проживания', CHANGE `address_res_city` `address_res_city` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Город проживания', CHANGE `address_res_address` `address_res_address` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Адрес проживания', CHANGE `address_reg_as_res` `address_reg_as_res` TINYINT(1) UNSIGNED NOT NULL COMMENT 'Место проживания совпадает с пропиской', CHANGE `relatives_one_fio` `relatives_one_fio` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Контактное лицо', CHANGE `relatives_one_phone` `relatives_one_phone` CHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Телефон контактного лица', CHANGE `friends_fio` `friends_fio` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'ФИО друга', CHANGE `friends_phone` `friends_phone` CHAR(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Телефон друга', CHANGE `job_company` `job_company` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Компания', CHANGE `job_position` `job_position` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Должность', CHANGE `job_time` `job_time` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Стаж работы', CHANGE `job_monthly_income` `job_monthly_income` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Месячный доход', CHANGE `job_monthly_outcome` `job_monthly_outcome` VARCHAR(30) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Месячный расход', CHANGE `have_past_credit` `have_past_credit` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0' COMMENT 'Раньше были кредиты', CHANGE `secret_question` `secret_question` TINYINT(1) UNSIGNED NOT NULL COMMENT 'Секретный вопрос', CHANGE `secret_answer` `secret_answer` VARCHAR(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Ответ на вопрос', CHANGE `numeric_code` `numeric_code` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Цифровой код', CHANGE `sms_code` `sms_code` CHAR(6) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Код SMS-подтверждения', CHANGE `product` `product` TINYINT(1) UNSIGNED NOT NULL COMMENT 'Продукт', CHANGE `channel_id` `channel_id` VARCHAR(20) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL COMMENT 'Способ получения', CHANGE `flex_amount` `flex_amount` INT(11) UNSIGNED NOT NULL COMMENT 'Сумма гибкого займа', CHANGE `flex_time` `flex_time` TINYINT(2) UNSIGNED NOT NULL COMMENT 'Время гибкого займа (в днях)', CHANGE `complete` `complete` TINYINT(1) UNSIGNED NOT NULL DEFAULT '0' COMMENT 'Флаг успешного заполнения анкеты', CHANGE `dt_add` `dt_add` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'Дата добавления', CHANGE `dt_update` `dt_update` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT 'Дата обновления', CHANGE `flag_sms_confirmed` `flag_sms_confirmed` TINYINT(1) UNSIGNED NOT NULL COMMENT 'Телефон подтвержден по СМС', CHANGE `flag_archived` `flag_archived` TINYINT(1) UNSIGNED NOT NULL COMMENT 'Флаг архивации записи', CHANGE `flag_cleared` `flag_cleared` TINYINT(1) UNSIGNED NOT NULL COMMENT 'Запись очищена';");


	}


	public function down()
	{
		echo "m131224_105832_ChangeTableProperties does not support migration down.\n";

		return false;

		$this->execute("");
	}

	/*	// Use safeUp/safeDown to do migration with transaction	public function safeUp()	{	}

	public function safeDown()	{	}	*/
}
